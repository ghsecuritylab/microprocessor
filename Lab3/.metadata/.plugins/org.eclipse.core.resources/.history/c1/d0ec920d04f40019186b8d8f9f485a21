	.syntax unified
	.cpu cortex-m4
	.thumb
.data
	leds: .byte 0
.text
	.global main
	.equ RCC_AHB2ENR, 0x4002104C
	.equ GPIOA_MODER, 0x48000000
	.equ GPIOA_OTYPER, 0x48000004
	.equ GPIOA_OSPEEDR, 0x48000008
	.equ GPIOA_PUPDR, 0x4800000C
	.equ GPIOA_ODR, 0x48000014
main:
	movs r0, #0x1
	ldr r1, =RCC_AHB2ENR
	str r0, [r1]

	movs r0, #0x400
	ldr r1, =GPIOA_MODER
	ldr r2, [r1]
	and r2, #0xFFFFF3FF
	orrs r2, r2, r0
	str r2, [r1]

	movs r0, #0x800
	ldr r1, =GPIOA_OSPEEDR
	strh r0, [r1]

	ldr r1, =GPIOA_ODR
LED:
	//Set	PA5	as	low	then	delay
	movs r0,	#0
	strh r0,	[r1]
	bl delay
	//Set	PA5	as	high	then	delay
	movs r0,	#(1<<5)
	strh r0,	[r1]
	bl delay
	B	LED
L1:
	movs r0, #(1<<5)
	strh r0, [r1]

	B L1
/*
	BL GPIO_init
	MOVS R1, #1
	LDR R0, =leds
	STRB R1, [R0]
Loop:
	//TODO: Write the display pattern into leds variable
	BL DisplayLED
	BL Delay
	B Loop
GPIO_init:
	//TODO: Initial LED GPIO pins as output
	BX LR
	DisplayLED :
	//TODO: Display LED by leds
	BX LR
Delay:
	//TODO: Write a delay 1 sec function
	BX LR
*/
